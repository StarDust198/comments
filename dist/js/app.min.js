/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/assets/heart.svg":
/*!******************************!*\
  !*** ./src/assets/heart.svg ***!
  \******************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" fill=\\\"none\\\" viewBox=\\\"0 0 24 24\\\" stroke-width=\\\"2\\\" stroke=\\\"#7653FC\\\"><path stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z\\\"></path></svg>\"\n\n//# sourceURL=webpack://gulp-start/./src/assets/heart.svg?");

/***/ }),

/***/ "./src/assets/trash.svg":
/*!******************************!*\
  !*** ./src/assets/trash.svg ***!
  \******************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" fill=\\\"none\\\" viewBox=\\\"0 0 24 24\\\" stroke-width=\\\"2\\\" stroke=\\\"#7653FC\\\"><path stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0\\\"></path></svg>\"\n\n//# sourceURL=webpack://gulp-start/./src/assets/trash.svg?");

/***/ }),

/***/ "./src/assets/user.svg":
/*!*****************************!*\
  !*** ./src/assets/user.svg ***!
  \*****************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\"><g clip-path=\\\"url(#clip0_1_269)\\\"><path d=\\\"M15 0C6.72902 0 0 6.72902 0 15C0 23.271 6.72902 30 15 30C23.271 30 30 23.271 30 15C30 6.72902 23.271 0 15 0ZM15 27.6253C8.03824 27.6253 2.37469 21.9613 2.37469 15C2.37469 8.03865 8.03824 2.37469 15 2.37469C21.9613 2.37469 27.6253 8.03906 27.6253 15.0004C27.6253 21.9618 21.9613 27.6253 15 27.6253Z\\\" fill=\\\"#7653FC\\\"></path><path d=\\\"M15 17.6616C10.7814 17.6616 6.83433 19.777 3.88654 23.6177L5.77044 25.0631C8.25868 21.8217 11.5365 20.0363 15 20.0363C18.4635 20.0363 21.7413 21.8217 24.2292 25.0631L26.1131 23.6177C23.1653 19.777 19.2186 17.6616 15 17.6616Z\\\" fill=\\\"#7653FC\\\"></path><path d=\\\"M15 5.38257C11.5955 5.38257 8.82587 8.17005 8.82587 11.5963C8.82587 15.0225 11.5955 17.81 15 17.81C18.4045 17.81 21.1741 15.0225 21.1741 11.5963C21.1741 8.17011 18.4045 5.38257 15 5.38257ZM15 15.4353C12.9052 15.4353 11.2006 13.7133 11.2006 11.5963C11.2006 9.47921 12.9052 7.7572 15 7.7572C17.0949 7.7572 18.7995 9.47962 18.7995 11.5963C18.7995 13.7129 17.0949 15.4353 15 15.4353Z\\\" fill=\\\"#7653FC\\\"></path></g><defs><clipPath id=\\\"clip0_1_269\\\"><rect width=\\\"30\\\" height=\\\"30\\\" fill=\\\"white\\\"></rect></clipPath></defs></svg>\"\n\n//# sourceURL=webpack://gulp-start/./src/assets/user.svg?");

/***/ }),

/***/ "./src/js/app.js":
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_isWebP_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/isWebP.js */ \"./src/js/modules/isWebP.js\");\n/* harmony import */ var _modules_processForm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/processForm.js */ \"./src/js/modules/processForm.js\");\n\n\n\n(0,_modules_isWebP_js__WEBPACK_IMPORTED_MODULE_0__.isWebP)();\n\nconst form = document.forms.form;\nconst postList = document.getElementById('post-list');\n\n(0,_modules_processForm_js__WEBPACK_IMPORTED_MODULE_1__.processForm)(form, postList);\n\npostList.addEventListener('click', (e) => {\n  const tgt = e.target.closest('.post-btn');\n  if (!tgt) return;\n\n  switch (tgt.dataset.action) {\n    case 'like':\n      const innerSvg = tgt.querySelector('svg');\n      const fill = innerSvg.getAttribute('fill');\n      innerSvg.setAttribute('fill', fill === 'none' ? '#7653fc' : 'none');\n      break;\n\n    case 'delete':\n      const post = e.target.closest('.post');\n      post.classList.add('animate__fadeOut');\n      post.onanimationend = () => post.remove();\n      break;\n\n    default:\n      throw new Error('Неизвестное действие');\n  }\n});\n\n\n//# sourceURL=webpack://gulp-start/./src/js/app.js?");

/***/ }),

/***/ "./src/js/modules/addNewPost.js":
/*!**************************************!*\
  !*** ./src/js/modules/addNewPost.js ***!
  \**************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addNewPost\": () => (/* binding */ addNewPost)\n/* harmony export */ });\n/* harmony import */ var _assets_user_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../assets/user.svg */ \"./src/assets/user.svg\");\n/* harmony import */ var _assets_heart_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../assets/heart.svg */ \"./src/assets/heart.svg\");\n/* harmony import */ var _assets_trash_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../assets/trash.svg */ \"./src/assets/trash.svg\");\n\n\n\n\nfunction addNewPost({ text, name, date }, container) {\n  const newPost = document.createElement('li');\n  newPost.classList.add(\n    'post',\n    'card',\n    'animate__animated',\n    'animate__fadeInDown'\n  );\n\n  newPost.innerHTML = `\n\t\t${_assets_user_svg__WEBPACK_IMPORTED_MODULE_0__}\n\t\t<h3 class=\"post-name\">${name}</h3>\n\n    <div class=\"post-actions\">\n      <button class=\"post-btn\" data-action=\"like\">\n\t\t\t\t${_assets_heart_svg__WEBPACK_IMPORTED_MODULE_1__}\n      </button>\n      <button class=\"post-btn\" data-action=\"delete\">\n\t\t\t\t${_assets_trash_svg__WEBPACK_IMPORTED_MODULE_2__}\n      </button>\n    </div>\n\n\t\t<hr class=\"hr\" />\n\n\t\t<p class=\"post-text\">\n\t\t\t${text}\n\t\t</p>\n\t\t<div class=\"post-date\">${date}</div>\n\t`;\n\n  container.prepend(newPost);\n}\n\n\n//# sourceURL=webpack://gulp-start/./src/js/modules/addNewPost.js?");

/***/ }),

/***/ "./src/js/modules/formatDate.js":
/*!**************************************!*\
  !*** ./src/js/modules/formatDate.js ***!
  \**************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"formatDate\": () => (/* binding */ formatDate)\n/* harmony export */ });\nfunction formatDate(date) {\n  const year = date.getFullYear();\n  const month = date.getMonth();\n  const dateOfMonth = date.getDate();\n  const hours = date.getHours();\n  const minutes = date.getMinutes();\n\n  const difference = Date.now() - new Date(year, month, dateOfMonth).getTime();\n\n  let result = '';\n\n  if (difference < 864e5) {\n    result += 'Сегодня';\n  } else if (difference < 1728e5) {\n    result += 'Вчера';\n  } else {\n    result += `${dateOfMonth} `;\n\n    switch (month) {\n      case 0:\n        result += 'января';\n        break;\n      case 1:\n        result += 'февраля';\n        break;\n      case 2:\n        result += 'марта';\n        break;\n      case 3:\n        result += 'апреля';\n        break;\n      case 4:\n        result += 'мая';\n        break;\n      case 5:\n        result += 'июня';\n        break;\n      case 6:\n        result += 'июля';\n        break;\n      case 7:\n        result += 'августа';\n        break;\n      case 8:\n        result += 'сентября';\n        break;\n      case 9:\n        result += 'октября';\n        break;\n      case 10:\n        result += 'ноября';\n        break;\n      case 11:\n        result += 'декабря';\n        break;\n      default:\n        throw new Error('Непраильный номер месяца');\n    }\n    result += ` ${year}`;\n  }\n\n  result += `, ${getZero(hours)}:${getZero(minutes)}`;\n\n  return result;\n}\n\nfunction getZero(num) {\n  return (num >= 10 ? '' : '0') + num;\n}\n\n\n//# sourceURL=webpack://gulp-start/./src/js/modules/formatDate.js?");

/***/ }),

/***/ "./src/js/modules/isWebP.js":
/*!**********************************!*\
  !*** ./src/js/modules/isWebP.js ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isWebP\": () => (/* binding */ isWebP)\n/* harmony export */ });\nfunction isWebP() {\n  function testWebP(callback) {\n    let webP = new Image();\n    webP.onload = webP.onerror = function () {\n      callback(webP.height == 2);\n    };\n    webP.src =\n      'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';\n  }\n\n  testWebP(function (support) {\n    let className = support == true ? 'webp' : 'no-webp';\n    document.querySelector('body').classList.add(className);\n  });\n}\n\n\n//# sourceURL=webpack://gulp-start/./src/js/modules/isWebP.js?");

/***/ }),

/***/ "./src/js/modules/processField.js":
/*!****************************************!*\
  !*** ./src/js/modules/processField.js ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"processField\": () => (/* binding */ processField)\n/* harmony export */ });\n/* harmony import */ var _formatDate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./formatDate.js */ \"./src/js/modules/formatDate.js\");\n\n\nfunction processField(field, errorState) {\n  switch (field.name) {\n    case 'name':\n      let name = field.value.trim();\n\n      if (name.length < 3) {\n        errorState.errors++;\n        errorState[field.name] =\n          name.length === 0 ? 'Обязательное поле' : 'Не менее 3х символов';\n      } else {\n        return name;\n      }\n      break;\n\n    case 'date':\n      let newDate = new Date();\n      if (!field.value) return (0,_formatDate_js__WEBPACK_IMPORTED_MODULE_0__.formatDate)(newDate);\n\n      let dateArr = field.value.match(/\\d+/g);\n\n      if (dateArr.length !== 3) {\n        errorState.errors++;\n        errorState[field.name] = 'Формат: дд/мм/гг или дд.мм.гггг';\n        return;\n      }\n\n      if (+dateArr[0] < 1 || +dateArr[0] > 31) {\n        errorState.errors++;\n        errorState[field.name] = 'Неправильно указана дата';\n        return;\n      }\n\n      if (+dateArr[1] < 1 || +dateArr[1] > 12) {\n        errorState.errors++;\n        errorState[field.name] = 'Неправильно указан месяц';\n        return;\n      }\n\n      if (dateArr[2].length !== 2 && dateArr[2].length !== 4) {\n        errorState.errors++;\n        errorState[field.name] = 'Неправильный формат года';\n        return;\n      }\n\n      if (+dateArr[2] % 2000 > newDate.getFullYear() % 2000) {\n        errorState.errors++;\n        errorState[field.name] = 'От 2000го до текущего';\n        return;\n      }\n\n      const year = +dateArr[2] >= 2000 ? +dateArr[2] : +dateArr[2] + 2000;\n      const month = +dateArr[1] - 1;\n      const date = +dateArr[0];\n      const hours = newDate.getHours();\n      const minutes = newDate.getMinutes();\n      const resultDate = new Date(year, month, date, hours, minutes);\n\n      if (resultDate.getMonth() !== month) {\n        errorState.errors++;\n        errorState[field.name] = 'Такого числа не было в этом месяце';\n        return;\n      }\n\n      return (0,_formatDate_js__WEBPACK_IMPORTED_MODULE_0__.formatDate)(resultDate);\n\n    case 'text':\n      let text = field.value.trim();\n\n      if (text.length < 5) {\n        errorState.errors++;\n        errorState[field.name] =\n          text.length === 0 ? 'Обязательное поле' : 'Не менее 5ти символов';\n        return;\n      }\n\n      return text;\n\n    default:\n      throw new Error('Unknown input field');\n  }\n}\n\n\n//# sourceURL=webpack://gulp-start/./src/js/modules/processField.js?");

/***/ }),

/***/ "./src/js/modules/processForm.js":
/*!***************************************!*\
  !*** ./src/js/modules/processForm.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"processForm\": () => (/* binding */ processForm)\n/* harmony export */ });\n/* harmony import */ var _addNewPost_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./addNewPost.js */ \"./src/js/modules/addNewPost.js\");\n/* harmony import */ var _processField_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./processField.js */ \"./src/js/modules/processField.js\");\n\n\n\nconst processForm = (form, postList) => {\n  const errorState = {\n    errors: 0,\n    name: '',\n    text: '',\n    date: '',\n  };\n\n  form.addEventListener('submit', function (e) {\n    e.preventDefault();\n\n    let postData = {};\n    for (let field of this) {\n      if (field.name) {\n        postData[field.name] = (0,_processField_js__WEBPACK_IMPORTED_MODULE_1__.processField)(field, errorState);\n        if (errorState[field.name]) showError(field.name);\n      }\n    }\n\n    if (errorState.errors === 0) {\n      (0,_addNewPost_js__WEBPACK_IMPORTED_MODULE_0__.addNewPost)(postData, postList);\n      this.reset();\n      return;\n    }\n\n    errorState.errors = 0;\n  });\n\n  for (let field of form.elements) {\n    if (field.name) {\n      field.oninput = () => clearError(field.name);\n    }\n  }\n\n  function showError(fieldName) {\n    const errorElem = form.elements[fieldName];\n    const errorMessage = errorElem.nextElementSibling;\n    errorElem.classList.add('form-error');\n    errorMessage.textContent = errorState[fieldName];\n    errorState[fieldName] = '';\n  }\n\n  function clearError(fieldName) {\n    const errorElem = form.elements[fieldName];\n    const errorMessage = errorElem.nextElementSibling;\n    errorElem.classList.remove('form-error');\n    errorMessage.textContent = '';\n  }\n};\n\n\n//# sourceURL=webpack://gulp-start/./src/js/modules/processForm.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/js/app.js");
/******/ 	
/******/ })()
;