(()=>{var e={735:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="#7653FC"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"></path></svg>'},27:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="#7653FC"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>'},474:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" fill="none"><g clip-path="url(#clip0_1_269)"><path d="M15 0C6.72902 0 0 6.72902 0 15C0 23.271 6.72902 30 15 30C23.271 30 30 23.271 30 15C30 6.72902 23.271 0 15 0ZM15 27.6253C8.03824 27.6253 2.37469 21.9613 2.37469 15C2.37469 8.03865 8.03824 2.37469 15 2.37469C21.9613 2.37469 27.6253 8.03906 27.6253 15.0004C27.6253 21.9618 21.9613 27.6253 15 27.6253Z" fill="#7653FC"></path><path d="M15 17.6616C10.7814 17.6616 6.83433 19.777 3.88654 23.6177L5.77044 25.0631C8.25868 21.8217 11.5365 20.0363 15 20.0363C18.4635 20.0363 21.7413 21.8217 24.2292 25.0631L26.1131 23.6177C23.1653 19.777 19.2186 17.6616 15 17.6616Z" fill="#7653FC"></path><path d="M15 5.38257C11.5955 5.38257 8.82587 8.17005 8.82587 11.5963C8.82587 15.0225 11.5955 17.81 15 17.81C18.4045 17.81 21.1741 15.0225 21.1741 11.5963C21.1741 8.17011 18.4045 5.38257 15 5.38257ZM15 15.4353C12.9052 15.4353 11.2006 13.7133 11.2006 11.5963C11.2006 9.47921 12.9052 7.7572 15 7.7572C17.0949 7.7572 18.7995 9.47962 18.7995 11.5963C18.7995 13.7129 17.0949 15.4353 15 15.4353Z" fill="#7653FC"></path></g><defs><clipPath id="clip0_1_269"><rect width="30" height="30" fill="white"></rect></clipPath></defs></svg>'}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{"use strict";function e(e){const n=e.getFullYear(),r=e.getMonth(),a=e.getDate(),o=e.getHours(),s=e.getMinutes(),i=Date.now()-new Date(n,r,a).getTime();let l="";if(i<864e5)l+="Сегодня";else if(i<1728e5)l+="Вчера";else{switch(l+=`${a} `,r){case 0:l+="января";break;case 1:l+="февраля";break;case 2:l+="марта";break;case 3:l+="апреля";break;case 4:l+="мая";break;case 5:l+="июня";break;case 6:l+="июля";break;case 7:l+="августа";break;case 8:l+="сентября";break;case 9:l+="октября";break;case 10:l+="ноября";break;case 11:l+="декабря";break;default:throw new Error("Непраильный номер месяца")}l+=` ${n}`}return l+=`, ${t(o)}:${t(s)}`,l}function t(e){return(e>=10?"":"0")+e}function r(t,n){switch(t.name){case"name":case"text":let r=t.value.trim(),a="name"===t.name?3:10;if(!(r.length<a))return r;n.errors++,n[t.name]=0===r.length?"Обязательное поле":`Не менее ${3===a?"3х":"10ти"} символов`;break;case"date":let o=new Date;if(!t.value)return e(o);let s=t.value.match(/\d+/g);if(3!==s.length)return n.errors++,void(n[t.name]="Формат: дд/мм/гг или дд.мм.гггг");if(+s[0]<1||+s[0]>31)return n.errors++,void(n[t.name]="Неправильно указана дата");if(+s[1]<1||+s[1]>12)return n.errors++,void(n[t.name]="Неправильно указан месяц");if(2!==s[2].length&&4!==s[2].length)return n.errors++,void(n[t.name]="Неправильный формат года");if(+s[2]%2e3>o.getFullYear()%2e3)return n.errors++,void(n[t.name]="От 2000го до текущего");const i=+s[2]>=2e3?+s[2]:+s[2]+2e3,l=+s[1]-1,c=+s[0],d=o.getHours(),m=o.getMinutes(),u=new Date(i,l,c,d,m);return u.getTime()-Date.now()>0?(n.errors++,void(n[t.name]="Эта дата в будущем!")):u.getMonth()!==l?(n.errors++,void(n[t.name]="Такого числа не было в этом месяце")):e(u);default:throw new Error("Unknown input field")}}var a=n(474),o=n(735),s=n(27);!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=1==e?"webp":"no-webp";document.querySelector("body").classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();const i=document.forms.form,l=document.getElementById("post-list");(e=>{const t={errors:0,name:"",text:"",date:""};e.onsubmit=function(e){e.preventDefault(),n()};for(let t of e.elements)t.name&&(t.oninput=()=>o(t.name));function n(){let n={};for(let o of e.elements)o.name&&(n[o.name]=r(o,t),t[o.name]&&a(o.name));if(0===t.errors)return e.dispatchEvent(new CustomEvent("addPost",{detail:n})),void e.reset();t.errors=0}function a(n){const r=e.elements[n],a=r.nextElementSibling;r.classList.add("form-error"),a.textContent=t[n],t[n]=""}function o(t){const n=e.elements[t],r=n.nextElementSibling;n.classList.remove("form-error"),r.textContent=""}e.elements.text.onkeydown=e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),n())}})(i),(e=>{e.onclick=e=>{const t=e.target.closest(".post-btn");if(t)switch(t.dataset.action){case"like":const n=t.querySelector("svg"),r=n.getAttribute("fill");n.setAttribute("fill","none"===r?"#7653fc":"none");break;case"delete":const a=e.target.closest(".post");a.classList.add("animate__fadeOut"),a.onanimationend=()=>a.remove();break;default:throw new Error("Неизвестное действие")}}})(l),i.addEventListener("addPost",(e=>{l.prepend((({text:e,name:t,date:n})=>{const r=document.createElement("li");return r.classList.add("post","card","animate__animated","animate__fadeInDown"),r.innerHTML=`\n\t\t${a}\n\t\t<h3 class="post-name">${t}</h3>\n\n    <div class="post-actions">\n      <button class="post-btn" data-action="like">\n\t\t\t\t${o}\n      </button>\n      <button class="post-btn" data-action="delete">\n\t\t\t\t${s}\n      </button>\n    </div>\n\n\t\t<hr class="hr" />\n\n\t\t<p class="post-text">\n\t\t\t${e.split("\n").join("<br/>")}\n\t\t</p>\n\t\t<div class="post-date">${n}</div>\n\t`,r})(e.detail))}))})()})();